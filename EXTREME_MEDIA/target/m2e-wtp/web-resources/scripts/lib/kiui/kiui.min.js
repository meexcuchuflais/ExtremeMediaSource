/*
 * KiUI v0.0.5 [https://github.com/redaemn/KiUI]
 * 2014-02-26
 *
 * This software is licensed under The MIT License (MIT)
 * Copyright (c) 2014 Gabriele Rabbiosi [https://plus.google.com/+GabrieleRabbiosi/]
 * [https://github.com/redaemn/KiUI/blob/master/LICENSE]
 */

!function(a,b,c){var d=a.kiui=a.kiui||{},e="Kiui",f=c.ui,g=b.extend,h=function(a){f.plugin(a,d,e)};g(a.kiui,{prefix:e,plugin:h,roles:{}})}(window,window.jQuery,window.kendo),function(a,b){b.data.binders.boolValue=b.data.Binder.extend({init:function(c,d,e){if("radio"!==c.type)return void(this.refresh=function(){});b.data.Binder.fn.init.call(this,c,d,e);var f=this;a(f.element).on("change",function(){f.change()})},refresh:function(){var b=this,c=this.element,d=b.bindings.boolValue.get(),e=a(c).val();e="true"===e?!0:"false"===e?!1:null,c.checked=d===e},change:function(){var b=this,c=b.element,d=a(c).val(),e=null;e="true"===d?!0:"false"===d?!1:null,this.bindings.boolValue.set(e)}})}(window.jQuery,window.kendo),function(a,b){b.data.binders.loader=b.data.Binder.extend({init:function(c,d,e){b.data.Binder.fn.init.call(this,c,d,e),c=a(this.element);var f=c.css("position");"relative"!==f&&"absolute"!==f&&c.css("position","relative")},refresh:function(){var c=this,d=a(this.element),e=c.bindings.loader.get();e?b.ui.progress(d,!0):b.ui.progress(d,!1)}})}(window.jQuery,window.kendo),function(a,b,c,d,e){var f=".kiuiNotifier",g=c.prefix,h=b.ui.Widget,i=(b.ui,a.proxy),j="kiui-notification-error",k="kiui-notification-info",l="kiui-notification-success",m="kiui-notifier",n="kiui-position-",o="kiui-notification",p="kiui-notification-icon",q="kiui-notification-close",r="kiui-notification-title",s="kiui-notification-content",t="top",u="bottom",v="right",w="left",x="-",y=t+x+w,z=t+x+v,A=u+x+w,B=u+x+v,C="show",D="hide",E="destroy",F="string",G="",H="body",I=h.extend({init:function(b,c){var e,g=this;h.fn.init.call(g,b,c),b=g.element,c=g.options,e=/^([^-]+)(-(.+))?$/.exec(c.position),b.addClass(m).addClass(n+e[1]),e[3]&&b.addClass(n+e[3]),a(d).on("resize"+f,i(g._setNotificationsPosition,g)),g._notifications=[]},options:{prefix:g,name:"Notifier",position:z},events:[E],_setNotificationsPosition:function(){var b=this,c=b.options.position,e=10,f=a(d).height(),g=0,h=e,i=e;a.each(b._notifications,function(a,b){var d=b.height(),j=b.width();j>g&&(g=j),a>0&&h+d>f-e&&(c!==t&&c!==u?(h=e,i+=g+e,g=0):h=f+e),c==t?b.setPosition({top:h,right:e,left:e,width:"auto"}):c==u?b.setPosition({bottom:h,right:e,left:e,width:"auto"}):c==z?b.setPosition({top:h,right:i}):c==y?b.setPosition({top:h,left:i}):c==B?b.setPosition({bottom:h,right:i}):c==A&&b.setPosition({bottom:h,left:i}),h+=d+e})},_notify:function(b,d){var f,g=this;b.append&&a.each(g._notifications,function(a,b){b.element.hasClass(d)&&(f=b)}),f!==e?f.addContent(b.content):(f=new c.Notification(a("<div></div>").appendTo(g.element),b),g._notifications.push(f),f.bind(E,function(){f.element.remove()}),f.bind(D,function(){g._notifications.splice(g._notifications.indexOf(f),1),g._setNotificationsPosition(),f.destroy()})),g._setNotificationsPosition(),f.show(b.autoHide)},_createNotificationOptions:function(a,b){return typeof a===F&&(a={content:a}),b==j?(a.icon===e&&(a.icon='<span class="k-icon k-i-note"></span>'),a.notificationClass=b+" k-error-colored"):b==k?(a.icon===e&&(a.icon='<span class="k-icon k-i-pencil"></span>'),a.notificationClass=b+" k-info-colored"):b==l&&(a.icon===e&&(a.icon='<span class="k-icon k-i-tick"></span>'),a.notificationClass=b+" k-success-colored"),a},error:function(a){var b=this;b._notify(b._createNotificationOptions(a,j),j)},info:function(a){var b=this;b._notify(b._createNotificationOptions(a,k),k)},success:function(a){var b=this;b._notify(b._createNotificationOptions(a,l),l)},destroy:function(){{var b=this;b.element}a(d).off(f),a.each(b._notifications,function(a,b){b.destroy()}),b._notifications=[],b.trigger(E),h.fn.destroy.call(b)}}),J=h.extend({init:function(a,b){var c=this;h.fn.init.call(c,a,b),a=c.element,b=c.options,a.addClass(o+" k-block").addClass(b.notificationClass).append(b.template).css("width",b.width).on("click"+f,"."+q,i(c.hide,c)),c._visible=!1,c.setIcon(b.icon),c.setTitle(b.title),c.addContent(b.content)},options:{prefix:g,name:"Notification",template:'<div class="'+p+'"></div><div class="'+q+'"><span class="k-icon k-i-close"></div><div class="'+r+'"></div><div class="'+s+'"></div>',notificationClass:"k-error-colored",icon:"",title:"",content:"",autoHide:!1,width:250,append:!1},events:[C,D,E],show:function(a){var b=this;b._visible||(b._visible=!0,b.element.fadeIn({queue:!1,complete:function(){b.trigger(C)}})),a&&setTimeout(i(b.hide,b),a)},hide:function(){var a=this;a._visible&&(a._visible=!1,a.element.fadeOut({queue:!1,complete:function(){a.trigger(D)}}))},setIcon:function(a){var b=this,c=b.element.find("."+p);c.html(a),a===G?c.hide():c.show()},setTitle:function(a){var b=this,c=b.element.find("."+r);c.html(a),a===G?c.hide():c.show()},addContent:function(a){var b=this;b.element.find("."+s).append(a)},setPosition:function(a){var b=this;b.element.css(a)},height:function(){var a=this;return a.element.outerHeight()},width:function(){var a=this;return a.element.outerWidth()},destroy:function(){var a=this,b=a.element;b.off(f),a.trigger(E),h.fn.destroy.call(a)}}),K={};c.notifier=function(b){var d,f,g;return b=b||{},g=!b.position||b.position!==t&&b.position!==u&&b.position!==z&&b.position!==y&&b.position!==B&&b.position!==A,g&&(b.position=z),d=K[b.position],d||(f=a("<div></div>").appendTo(H),d=K[b.position]=new c.Notifier(f,b),d.bind(E,function(){K[b.position]=e,d.element.remove()})),d},c.plugin(J),c.plugin(I)}(window.jQuery,window.kendo,window.kiui,window),function(a,b){b.ui.validator.rules.kiuiDate=function(a){if(a.is("[data-kiui-date]")){var c=a.val(),d=a.data("kiui-date")||"",e=a.data("kiui-date-culture")||"";return""===c||null!==b.parseDate(c,d,e)}return!0},b.ui.validator.messages.kiuiDate="{0} is not a valid date"}(window.jQuery,window.kendo),function(a,b){b.ui.validator.rules.required=function(a){var c;return a.is("[type=radio]")?(c=a.parents('[data-role="validator"]').first(),!a.is("[required]")||c.find("[name="+a.attr("name")+"]").is(":checked")):b.ui.Validator.fn.options.rules.required(a)}}(window.jQuery,window.kendo),function(a,b,c,d,e,f){var g=".kiuiPopupMenu",h=c.prefix,i=b.ui.Widget,j=b.ui,k=(a.proxy,"click"),l="mouseenter",m="mouseleave",n="kiui-popup-menu",o="kiui-popup-menu-trigger",p="kiui-popup-menu-menu",q="kiui-state-open",r="kiui-position-top",s="kiui-position-left",t="open",u="close",v="select",w=i.extend({init:function(a,b){var c=this;i.fn.init.call(c,a,b),a=c.element,b=c.options,c._triggerEl=a.children().first(),c._menuEl=c._triggerEl.next("ul"),a.addClass(n),c._triggerEl.addClass(o),c._menuEl.addClass(p),c._createMenu(),c._bindMenuEvents(),c._attachTriggerHandlers()},options:{prefix:h,name:"PopupMenu",openOnHover:!1,direction:"bottom right",animation:"expand",dataSource:null,collisionDetection:!1},events:[t,u,v],_createMenu:function(){var a=this,b=a.options,c={orientation:"vertical",animation:{open:{effects:"expand"}}},d=b.direction.split(" ");"fade"===b.animation?c.animation={open:{effects:"fadeIn"}}:"none"===b.animation&&(c.animation=!1),"left"===d[1]&&(c.direction="left",a.element.addClass(s)),"top"===d[0]&&a.element.addClass(r),b.dataSource&&(c.dataSource=b.dataSource),a.menu=new j.Menu(a._menuEl,c),a._open=!1,a._automaticallyCloseMenuAttached=!1},_attachTriggerHandlers:function(){function a(a){a.preventDefault(),i.toggle()}function b(){e.clearTimeout(h),h=f}function c(){h=e.setTimeout(function(){h=f,i.element.off(l+g+" "+m+g),i.element.on(m+g,d),i.open()},200),i.element.one(m+g,b)}function d(){h=e.setTimeout(function(){h=f,i.element.off(m+g+" "+l+g),i.element.on(l+g,c),i.close()},200),i.element.one(l+g,b)}var h,i=this;i.options.openOnHover?i.element.on(l+g,c):i._triggerEl.on(k+g,a)},_bindMenuEvents:function(){var a=this;a.menu.bind("open",function(b){a.trigger("open",{item:b.item})===!0&&b.preventDefault()}),a.menu.bind("close",function(b){a.trigger("close",{item:b.item})===!0&&b.preventDefault()}),a.menu.bind("select",function(b){a.trigger("select",{item:b.item})})},toggle:function(){var a=this;a._open?a.close():a.open()},open:function(){var a=this,b="slideToggle",c=200;"fade"===a.options.animation?b="fadeToggle":"none"===a.options.animation&&(b="toggle",c=0),a._open||a.trigger(t,{item:a._triggerEl[0]})!==!1||(a._open=!0,a.element.addClass(q),a._setAutomaticClose(),a._menuEl.stop()[b](c))},_setAutomaticClose:function(){function b(a){c._triggerEl.find("*").add(c._triggerEl).is(a.target)||c.close()}var c=this;c._automaticallyCloseMenuAttached||(c._automaticallyCloseMenuAttached=!0,c._automaticallyCloseMenuFunction=b,a(d).on(k+g,b))},close:function(){var b=this,c="slideToggle",e=100;return"fade"===b.options.animation?c="fadeToggle":"none"===b.options.animation&&(c="toggle",e=0),b._open&&(b.menu.close(),setTimeout(function(){b._open&&b.trigger(u,{item:b._triggerEl[0]})===!1&&(b._open=!1,b.element.removeClass(q),b._menuEl.stop()[c](e),b._automaticallyCloseMenuAttached=!1,a(d).off(k+g,b._automaticallyCloseMenuFunction))},b.menu.options.hoverDelay+1)),b._open===!1},destroy:function(){var a=this;a._triggerEl.off(g),a.element.off(g),a.menu.destroy(),i.fn.destroy.call(a)}});c.plugin(w)}(window.jQuery,window.kendo,window.kiui,window.document,window),function(a,b,c,d){var e=".kiuiRating",f=c.prefix,g=b.ui.Widget,h=a.proxy,i="li",j="select",k="change",l="mouseover",m="mouseleave",n="click",o="kiui-rating",p="kiui-state-readonly",q=g.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b),a=c.element,b=c.options,a.addClass(o).on(l+e,i,h(c._mouseover,c)).on(m+e,h(c._mouseleave,c)).on(n+e,i,h(c._select,c)),a.find(i).addClass(b.starEmptyClass),c.value(b.value),c.readonly(b.readonly)},options:{prefix:f,name:"Rating",starEmptyClass:"kiui-rating-star-empty",starFullClass:"kiui-rating-star-full",value:null,readonly:!1},events:[l,m,j,k],value:function(a){var b=this;return a===d?b._currentValue:(b._currentValue=a,void b._render(a))},readonly:function(a){var b=this;a===d&&(a=!0),a?b.element.addClass(p):b.element.removeClass(p),b._readonly=a},_mouseover:function(b){var c=this,d=a(b.currentTarget),e=d.data("value");c._readonly||(c._render(e),c.trigger(l,{value:e,item:d}))},_mouseleave:function(){var a=this;a._readonly||(a._render(a.value()),a.trigger(m))},_select:function(b){var c=this,d=a(b.currentTarget),e=d.data("value");c._readonly||(c.value(e),c.trigger(j,{value:e,item:d}),c.trigger(k))},_render:function(a){var b=this,c=b.options,e=b.element.find(i+'[data-value="'+a+'"]');null===a||a===d||0===e.length?b.element.find(i).removeClass(c.starFullClass).addClass(c.starEmptyClass):(e.prevAll(i).removeClass(c.starEmptyClass).addClass(c.starFullClass),e.removeClass(c.starEmptyClass).addClass(c.starFullClass),e.nextAll(i).removeClass(c.starFullClass).addClass(c.starEmptyClass))},destroy:function(){var a=this;a.element.off(e),g.fn.destroy.call(a)}});c.plugin(q)}(window.jQuery,window.kendo,window.kiui);